(function(t){function e(e){for(var r,o,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)o=i[u],s[o]&&m.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},n=[];function o(t){return i.p+"js/"+({canvg:"canvg",pdfmake:"pdfmake",xlsx:"xlsx"}[t]||t)+"."+{canvg:"db797c43",pdfmake:"12767846",xlsx:"03151520"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=s[t]=[e,r]}));e.push(a[2]=r);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(t),n=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=s[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+n+")");o.type=r,o.request=n,a[1](o)}s[t]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0efd":function(t,e,a){"use strict";var r=a("1f31"),s=a.n(r);s.a},"1f31":function(t,e,a){},"21dc":function(t,e,a){t.exports=a.p+"img/back_side_2.2d6b2325.png"},"30ab":function(t,e,a){},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=n(t);return a(e)}function n(t){var e=r[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(r)},s.resolve=n,t.exports=s,s.id="4678"},"4ffd":function(t,e,a){t.exports=a.p+"img/logo.e2d3adcf.png"},5436:function(t,e,a){"use strict";var r=a("716f"),s=a.n(r);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},n=[],o=a("2f62"),i=a("bc3a"),l=a.n(i),c=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper",class:{"nav-open":t.$sidebar.showSidebar}},[a("side-bar",[a("sidebar-link",{attrs:{to:"/d/dashboard"}},[a("md-icon",[t._v("dashboard")]),a("p",[t._v("Dashboard")])],1),a("sidebar-link",{attrs:{to:"/d/user"}},[a("md-icon",[t._v("person")]),a("p",[t._v("User Profile")])],1),a("sidebar-link",{attrs:{to:"/d/timemanager"}},[a("md-icon",[t._v("content_paste")]),a("p",[t._v("Time Manager")])],1),t.admin||t.manager?a("sidebar-link",{attrs:{to:"/d/teammanager"}},[a("md-icon",[t._v("assignment_ind")]),a("p",[t._v("Team Manager")])],1):t._e(),t.admin||t.manager?a("sidebar-link",{attrs:{to:"/d/teamgraph"}},[a("md-icon",[t._v("library_books")]),a("p",[t._v("Team Graph")])],1):t._e(),t.admin||t.manager?a("sidebar-link",{attrs:{to:"/d/usergraph"}},[a("md-icon",[t._v("bubble_chart")]),a("p",[t._v("User Graph")])],1):t._e(),t.admin?a("sidebar-link",{attrs:{to:"/d/usermanager"}},[a("md-icon",[t._v("supervisor_account")]),a("p",[t._v("User Manager")])],1):t._e(),a("md-icon",[t._v("power_settings_new")]),a("button",{on:{click:t.logout}},[t._v("Déconnexion")])],1),a("div",{staticClass:"main-panel"},[a("top-navbar"),a("dashboard-content")],1)],1)},d=[],m=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("d25f"),a("ac6a"),a("456d"),a("bd86")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[a("div",{staticClass:"md-toolbar-row"},[a("div",{staticClass:"md-toolbar-section-start"},[a("h3",{staticClass:"md-title"},[t._v(t._s(t.$route.name))])]),a("div",{staticClass:"md-toolbar-section-end"},[a("md-button",{staticClass:"md-just-icon md-simple md-toolbar-toggle",class:{toggled:t.$sidebar.showSidebar},on:{click:t.toggleSidebar}},[a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"})]),a("div",{staticClass:"md-collapse"},[a("router-link",{attrs:{to:"/login"}},[a("i",{staticClass:"material-icons"},[t._v("power_settings_new")])])],1)],1)])])},f=[],h={methods:{toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)}}},b=h,g=a("2877"),v=Object(g["a"])(b,p,f,!1,null,null,null),j=v.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)},k=[],y={},w=y,C=(a("5436"),Object(g["a"])(w,_,k,!1,null,null,null)),S=C.exports,x=a("04e1"),O=a.n(x);function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(a,!0).forEach((function(e){Object(m["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var I,T,M={name:"DashboardLayout",data:function(){return{role:null,seen:!0,admin:!1,manager:!1,user:!1}},components:{TopNavbar:j,DashboardContent:S},created:function(){this.role=O()(localStorage.getItem("token")).role,"Administrator"==this.role?(this.admin=!0,this.manager=!1,this.user=!1):"Manager"==this.role?(this.manager=!0,this.admin=!1,this.user=!1):(this.user=!0,this.admin=!1,this.manager=!1)},methods:E({},Object(o["b"])(["logout"]))},P=M,$=Object(g["a"])(P,u,d,!1,null,null,null),D=$.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-medium-size-100 md-size-66"},[a("edit-profile-form",{attrs:{"data-background-color":"green"}})],1)])])},A=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",[a("md-card",[a("md-card-header",{attrs:{"data-background-color":t.dataBackgroundColor}},[a("h4",{staticClass:"title"},[t._v("Editez votre profil")]),a("p",{staticClass:"category"},[t._v("Complétez votre profil")])]),a("md-card-content",[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[a("md-field",[a("label",[t._v("Prénom")]),a("md-input",{attrs:{type:"text"},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}})],1)],1),a("div",{staticClass:"md-layout-item md-small-size-100 md-size-50"},[a("md-field",[a("label",[t._v("Nom")]),a("md-input",{attrs:{type:"text"},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1)],1),a("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[a("md-field",[a("label",[t._v("E-mail")]),a("md-input",{attrs:{type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[a("md-field",[a("label",[t._v("Mot de passe")]),a("md-input",{attrs:{type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("div"),a("div",{staticClass:"md-layout-item md-size-100 text-right"},[a("md-button",{staticClass:"md-raised md-success",on:{click:t.edit}},[t._v("Mettre à jour")])],1),a("div",{staticClass:"md-layout-item md-size-100 text-right"},[a("md-button",{staticClass:"md-raised md-success",on:{click:t.remove}},[t._v("Supprimer votre compte")])],1)])])],1)],1)},Y=[],L=a("3d20"),q=a.n(L),F={name:"EditProfileForm",props:{dataBackgroundColor:{type:String,default:""}},data:function(){return{errors:[],currentUser:{},user:{},id:null,lastname:null,firstname:null,email:null,password:null,created_at:null,updated_at:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;l.a.get("http://localhost:3000/api/users/"+O()(localStorage.getItem("token")).id,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.currentUser=e.data,t.firstname=t.currentUser.first_name,t.lastname=t.currentUser.last_name,t.email=t.currentUser.email,t.password=t.currentUser.password,t.updated_at=t.currentUser.updatedAt,t.created_at=t.currentUser.createdAt})).catch((function(t){console.log(t)}))},edit:function(){null==this.password?q.a.fire({type:"error",title:"Erreur",text:"Veuillez saisir le mot de passe",footer:"Merci de réessayez"}):(this.user.first_name=this.firstname,this.user.last_name=this.lastname,this.user.password=this.password,this.user.email=this.email,console.log(this.currentUser),l.a.put("http://localhost:3000/api/users/"+O()(localStorage.getItem("token")).id,this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){q.a.fire("Félicitation","Profil mis à jour!","success")})).catch((function(t){q.a.fire({type:"error",title:"Erreur",text:"Mise à jour du compte impossible",footer:"Merci de réessayez"}),console.log(t)})))},remove:function(){l.a.delete("http://localhost:3000/api/users/"+O()(localStorage.getItem("token")).id).then((function(t){q.a.fire("COMPTE","Votre compte a été supprimé avec succès","success")})).catch((function(t){q.a.fire({type:"error",title:"Erreur",text:"Suppression de compte impossible",footer:"Merci de réessayez"})}))}}},G=F,N=Object(g["a"])(G,B,Y,!1,null,null,null),H=N.exports,R={name:"UserProfile",components:{EditProfileForm:H}},V=R,J=Object(g["a"])(V,U,A,!1,null,null,null),W=J.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[a("b",[t._v("   "+t._s(t.today))])]),a("center",[a("b-jumbotron",{staticClass:"center",attrs:{header:"Pointer",lead:"Pensez à pointer à votre arrivé, et dès votre départ","border-variant":"dark"}},[a("br"),t.statusClock?t._e():a("b-button",{attrs:{variant:"primary"},on:{click:t.postClock}},[t._v("Démarrer")]),t.statusClock?a("b-button",{attrs:{variant:"primary"},on:{click:t.postClock}},[t._v(t._s(t.chrono)+" | stop")]):t._e(),a("br"),a("br"),a("b",[a("span",{staticClass:"float-left"},[t._v("Arrivé(e): "+t._s(t.arrival))])]),a("b",[a("span",{staticClass:"float-right"},[t._v("Parti(e): "+t._s(t.departure))])])],1)],1),a("br"),a("br"),a("b-card",{attrs:{"bg-variant":"light","text-variant":"dark","border-variant":"dark",title:"Récapitulatif horaire d'aujourd'hui"}},[a("b-card-text",[t._v("\n            Arrivé(e): "),a("datetime",{staticClass:"arrivalInput",attrs:{format:"MM/DD/YYYY h:i:s",width:"300px"},model:{value:t.setArrival,callback:function(e){t.setArrival=e},expression:"setArrival"}})],1),a("b-card-text",[t._v("\n            Parti(e): "),a("datetime",{attrs:{format:"MM/DD/YYYY h:i:s",width:"300px"},model:{value:t.setDeparture,callback:function(e){t.setDeparture=e},expression:"setDeparture"}})],1),a("center",[a("b-button",{attrs:{href:"#",variant:"primary"}},[t._v("Mettez à jours vos horaires")])],1)],1)],1)},K=[],Q=(a("8ea5"),a("c1df")),Z=a.n(Q),tt=a("5118"),et=a("7891"),at={name:"TimeManager",components:{datetime:et["a"]},data:function(){return{today:Z()().format("LLLL"),interval:null,chrono:null,arrival:null,departure:null,statusClock:!1,finalChrono:null,setDeparture:null,setArrival:null,clocks:{status:"",time:""}}},created:function(){},methods:{postClock:function(){var t=this;if(null==this.chrono){this.statusClock=!0;var e=Z.a.now();this.arrival=Z()().lang("fr").format("DD/MM/YYYY HH:mm:ss"),this.clocks={status:!0,time:Z()().toISOString().substring(0,Z()().toISOString().length-1)},console.log(this.clocks.time),l.a.patch("http://localhost:3000/api/clocks/user/"+O()(localStorage.getItem("token")).id,this.clocks,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),this.interval=Object(tt["setInterval"])((function(){t.chrono=Z()(Z()().diff(e)).format("HH:mm:ss")}),1e3)}else this.finalChrono=this.chrono,this.chrono=null,this.statusClock=!1,this.departure=Z()().lang("fr").format("DD/MM/YYYY HH:mm:ss"),this.clocks={status:!1,time:Z()().toISOString().substring(0,Z()().toISOString().length-1)},console.log(this.clocks.time),l.a.patch("http://localhost:3000/api/clocks/user/"+O()(localStorage.getItem("token")).id,this.clocks,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),Object(tt["clearInterval"])(this.interval),q.a.fire("Vous avez travaillez "+this.finalChrono+" aujourd'hui")}}},rt=at,st=Object(g["a"])(rt,X,K,!1,null,null,null),nt=st.exports,ot={},it=Object(g["a"])(ot,I,T,!1,null,null,null),lt=it.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table table-striped table-hover"},[t._m(0),a("tbody",t._l(t.myTeams,(function(e){var r=e.id,s=e.name;return a("tr",{key:r},[a("td",[a("b",[t._v(t._s(r))])]),a("td",[a("b",[t._v(t._s(s))])]),a("td",[a("button",{on:{click:t.edit}},[t._v("Editer")]),t._v(" | "),a("button",{on:{click:function(e){return t.remove(r)}}},[t._v("Supprimer")])])])})),0)])])},ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Id")]),a("th",{attrs:{scope:"col"}},[t._v("Nom de l'équipe")]),a("th",{attrs:{scope:"col"}},[t._v("Options")])])])}],dt={name:"TeamGraph",data:function(){return{allTeams:[],myTeams:[],name:"",nameState:"null"}},props:{dataBackgroundColor:{type:String,default:""}},created:function(){this.getTeams()},methods:{edit:function(t){l.a.put("http://localhost:3000/api/teams/"+t,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){q.a.fire("Félicitation!","Team modifiée avec succès","success")})).catch((function(t){q.a.fire({type:"error",title:"Erreur",text:"Modification impossible"})}))},remove:function(t){var e=this;q.a.fire({title:"Êtes vous sûr de vouloir supprimer cette team ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui supprimer"}).then((function(a){a.value&&l.a.delete("http://localhost:3000/api/teams/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.getTeams(),q.a.fire("Supprimé!","success")})).catch((function(e){q.a.fire({type:"error",title:"Erreur",text:"Suppression impossible"}),console.log(t)}))}))},getTeams:function(){var t=this;l.a.get("http://localhost:3000/api/teams",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(t.allTeams=e.data,"Administrator"==O()(localStorage.getItem("token")).role)t.myTeams=t.allTeams;else if("Manager"==O()(localStorage.getItem("token")).role)for(var a=0;a<t.allTeams.length;a+=1)t.allTeams[a].managerId==O()(localStorage.getItem("token")).id&&t.myTeams.push(t.allTeams[a])})).catch((function(t){console.log(t)}))}}},mt=dt,pt=Object(g["a"])(mt,ct,ut,!1,null,null,null),ft=pt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},bt=[],gt={name:"UserGraph"},vt=gt,jt=Object(g["a"])(vt,ht,bt,!1,null,null,null),_t=jt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table table-striped table-hover"},[t._m(0),a("tbody",t._l(t.users,(function(e){var r=e.id,s=e.last_name,n=e.first_name,o=e.email,i=e.role;return a("tr",{key:r},[a("td",[a("b",[t._v(t._s(r))])]),a("td",[a("b",[t._v(t._s(s))])]),a("td",[a("b",[t._v(t._s(n))])]),a("td",[a("b",[t._v(t._s(o))])]),a("td",[a("b",[t._v(t._s(i))])]),a("td",[a("button",{on:{click:function(e){return t.promote(r,n)}}},[t._v("Promouvoir")]),t._v(" | "),a("button",{on:{click:function(e){return t.deleting(r)}}},[t._v("Supprimer")])])])})),0)])])},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Id")]),a("th",{attrs:{scope:"col"}},[t._v("Nom")]),a("th",{attrs:{scope:"col"}},[t._v("Prénom")]),a("th",{attrs:{scope:"col"}},[t._v("Email")]),a("th",{attrs:{scope:"col"}},[t._v("Role")]),a("th",{attrs:{scope:"col"}},[t._v("Options")])])])}],wt={name:"UserManager",data:function(){return{users:[],token:localStorage.getItem("token"),perPage:10,total:null,currentPage:1}},created:function(){this.getUsers()},methods:{getUsers:function(){var t=this;l.a.get("http://localhost:3000/api/users",{headers:{Authorization:"Bearer "+this.token}}).then((function(e){t.users=e.data,t.users.splice(0,1),t.total=t.users.length})).catch((function(t){console.log(t)}))},deleting:function(t){var e=this;q.a.fire({title:"Êtes vous sûr de vouloir supprimer cet utilisateur ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui supprimer"}).then((function(a){a.value&&l.a.delete("http://localhost:3000/api/users/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.getUsers(),q.a.fire("Supprimé!","success")})).catch((function(t){q.a.fire({type:"error",title:"Erreur",text:"Suppression impossible"})}))}))},promote:function(t,e){var a=this;l.a.patch("http://localhost:3000/api/users/"+t,{role:"Manager"},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.getUsers(),q.a.fire("Félicitation!",e+" est devenu(e) Manager","success")})).catch((function(t){console.log(t)}))}}},Ct=wt,St=Object(g["a"])(Ct,kt,yt,!1,null,null,null),xt=St.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chartdiv",staticClass:"hello"})},zt=[],Et=a("71c9"),It=a("c497"),Tt=a("5a54");Et["b"](Tt["a"]);var Mt={name:"HelloWorld",mounted:function(){var t=Et["a"](this.$refs.chartdiv,It["d"]);t.paddingRight=20;for(var e=[],a=10,r=1;r<366;r++)a+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),e.push({date:new Date(2018,0,r),name:"name"+r,value:a});t.data=e;var s=t.xAxes.push(new It["a"]);s.renderer.grid.template.location=0;var n=t.yAxes.push(new It["c"]);n.tooltip.disabled=!0,n.renderer.minWidth=35;var o=t.series.push(new It["b"]);o.dataFields.dateX="date",o.dataFields.valueY="value",o.tooltipText="{valueY.value}",t.cursor=new It["f"];var i=new It["e"];i.series.push(o),t.scrollbarX=i,this.chart=t},beforeDestroy:function(){this.chart&&this.chart.dispose()}},Pt=Mt,$t=(a("7129"),Object(g["a"])(Pt,Ot,zt,!1,null,"1f8cf958",null)),Dt=$t.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg"},[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("p",{staticClass:"h4 text-center"},[t._v("Sign in")]),a("div",{staticClass:"h4 text-center mb-4"},[a("mdb-input",{attrs:{icon:"envelope",type:"email",placeholder:"  Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("mdb-input",{attrs:{icon:"lock",type:"password",placeholder:"  Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"text-center"},[a("mdb-btn",{attrs:{type:"submit"}},[t._v("Connect")])],1),a("div",{staticClass:"text-center"},[a("router-link",{attrs:{to:"/signup"}},[a("mdb-btn",[t._v("Sign Up")])],1)],1)])])},At=[],Bt=a("7b6a"),Yt={name:"Login",components:{mdbInput:Bt["b"],mdbBtn:Bt["a"]},data:function(){return{email:"",password:"",token:"",users:[],errors:[]}},methods:{login:function(){var t=this;l.a.post("http://localhost:3000/api/users/sign_in",{email:this.email,password:this.password}).then((function(e){localStorage.setItem("token",e.data.token),t.$router.push("/d/dashboard")})).catch((function(t){q.a.fire({type:"error",title:"Erreur",text:"Email ou mot de passe incorrect(s)",footer:"Veuillez saisir les bons identifiants"})}))}}},Lt=Yt,qt=(a("5b75"),Object(g["a"])(Lt,Ut,At,!1,null,"72b169da",null)),Ft=qt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("p",{staticClass:"h4 text-center mb-4"},[t._v("Sign up")]),a("div",{staticClass:"h4 text-center mb-4"},[a("mdb-input",{attrs:{icon:"user",type:"text",placeholder:"  Your First Name",required:""},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}}),a("mdb-input",{attrs:{icon:"user",type:"text",placeholder:"  Your Last Name",required:""},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}}),a("mdb-input",{attrs:{icon:"envelope",type:"email",placeholder:"  Your email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("mdb-input",{attrs:{icon:"lock",type:"password",placeholder:" Your password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("mdb-input",{attrs:{icon:"lock",type:"password",placeholder:" Confirm Your password",required:""},model:{value:t.confirm_password,callback:function(e){t.confirm_password=e},expression:"confirm_password"}})],1),a("div",{staticClass:"text-center"},[a("mdb-btn",{attrs:{type:"submit"}},[t._v("Register")]),a("mdb-btn",[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)],1)])])},Nt=[],Ht={name:"Signup",data:function(){return{first_name:null,last_name:null,email:null,password:null,confirm_password:null,user:{}}},components:{mdbInput:Bt["b"],mdbBtn:Bt["a"]},methods:{register:function(){var t=this;this.password!==this.confirm_password?q.a.fire({title:"Erreur",text:"Les mots de passes ne sont pas identiques",type:"error",confirmButtonText:"Réessayez"}):l.a.post("http://localhost:3000/api/users/sign_up",{first_name:this.first_name,last_name:this.last_name,email:this.email,password:this.password}).then((function(e){q.a.fire("Félicitation","Vous êtes inscrit !","success"),t.$router.push("/login")})).catch((function(t){q.a.fire({title:"Erreur",text:"Utilisateur existe déjà",type:"error",confirmButtonText:"Merci de réessayez"})}))}}},Rt=Ht,Vt=(a("bcf0"),Object(g["a"])(Rt,Gt,Nt,!1,null,"294e7e6b",null)),Jt=Vt.exports;r["default"].use(c["a"]);var Wt=new c["a"]({mode:"history",base:"/",routes:[{path:"*",redirect:"/login"},{path:"/login",name:"Login",component:Ft},{path:"/signup",name:"SignUp",component:Jt},{path:"/d/",component:D,children:[{path:"dashboard",name:"Dashboard",component:Dt},{path:"user",name:"User Profile",component:W},{path:"timemanager",name:"Time Manager",component:nt},{path:"teammanager",name:"Team Manager",component:lt},{path:"teamgraph",name:"Team Graph",component:ft},{path:"usergraph",name:"User Graph",component:_t},{path:"usermanager",name:"User Manager",component:xt}]}]});Wt.beforeEach((function(t,e,a){Kt.dispatch("fetchToken"),"/login"!=t.fullPath&&"/signup"!=t.fullPath&&null==Kt.state.token&&a("/login"),"/login"===t.fullPath&&Kt.state.token&&a("/d/dashboard"),a()}));var Xt=Wt;r["default"].use(o["a"]);var Kt=new o["a"].Store({state:{loggingIn:!1,token:localStorage.getItem("token")||"",loginError:null},mutations:{loginStart:function(t){return t.loggingIn=!0},loginStop:function(t,e){t.loggingIn=!1,t.loginError=e},updateToken:function(t,e){t.token=e},logout:function(t){t.token=null}},actions:{login:function(t,e){var a=t.commit;a("loginStart"),l()({url:"http://localhost:3000/api/users/sign_in",data:e,method:"POST"}).then((function(t){localStorage.setItem("token",t.data.token),a("loginStop",null),a("updateToken",t.data.token),Xt.push("/d/dashboard")})).catch((function(t){a("loginStop",t.response.data.error),a("updateToken",null)}))},fetchToken:function(t){var e=t.commit;e("updateToken",localStorage.getItem("token"))},logout:function(t){var e=t.commit;localStorage.removeItem("token"),e("logout"),Xt.push("/login")}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}}}),Qt={name:"app",updated:function(){Kt.state.token||"/login"!=this.$router.history.current.path&&"/signup"!=this.$router.history.current.path&&this.$router.push("/login")}},Zt=Qt,te=Object(g["a"])(Zt,s,n,!1,null,null,null),ee=te.exports,ae=a("5f5b"),re=a("2a2e"),se=a.n(re),ne=(a("f9e3"),a("2dd8"),a("d355"),a("c7db")),oe={install:function(t){t.directive("click-outside",ne["directive"])}},ie=oe,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar",style:t.sidebarStyle,attrs:{"data-color":t.activeColor,"data-image":t.backgroundImage}},[a("div",{staticClass:"logo"},[a("a",{staticClass:"simple-text logo-mini",attrs:{href:"#"}},[a("div",{staticClass:"logo-img"},[a("img",{attrs:{src:t.imgLogo,alt:""}})])]),a("a",{staticClass:"simple-text logo-normal",attrs:{href:"@/assets/img/logo.jpg",target:"_blank"}},[t._v("\n      "+t._s(t.title)+"\n    ")])]),a("div",{staticClass:"sidebar-wrapper"},[t._t("content"),a("md-list",{staticClass:"nav"},[t._t("default",t._l(t.sidebarLinks,(function(t,e){return a("sidebar-link",{key:t.name+e,attrs:{to:t.path,link:t}})})))],2)],2)])},ce=[],ue=(a("57e7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"md-list-item"},[a("router-link",t._b({staticClass:"md-list-item-router md-list-item-container md-button-clean",on:{click:t.hideSidebar}},"router-link",t.$attrs,!1),[a("div",{staticClass:"md-list-item-content md-ripple"},[t._t("default",[a("md-icon",[t._v(t._s(t.link.icon))]),a("p",[t._v(t._s(t.link.name))])])],2)])],1)}),de=[],me={inject:{autoClose:{default:!0}},props:{link:{type:[String,Object],default:function(){return{name:"",path:"",icon:""}}},tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},pe=me,fe=Object(g["a"])(pe,ue,de,!1,null,null,null),he=fe.exports,be={components:{SidebarLink:he},props:{title:{type:String,default:"RED"},backgroundImage:{type:String,default:a("21dc")},imgLogo:{type:String,default:a("4ffd")},activeColor:{type:String,default:"",validator:function(t){var e=["","purple","blue","green","orange","red"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose}},computed:{sidebarStyle:function(){return{backgroundImage:"url(".concat(this.backgroundImage,")")}}}},ge=be,ve=(a("0efd"),Object(g["a"])(ge,le,ce,!1,null,null,null)),je=ve.exports,_e={showSidebar:!1,displaySidebar:function(t){this.showSidebar=t}},ke={install:function(t){t.mixin({data:function(){return{sidebarStore:_e}}}),Object.defineProperty(t.prototype,"$sidebar",{get:function(){return this.$root.sidebarStore}}),t.component("side-bar",je),t.component("sidebar-link",he)}},ye=ke,we=a("43f9"),Ce=a.n(we),Se=(a("51de"),a("9e17"),a("54ba"),{install:function(t){t.use(ye),t.use(Ce.a)}}),xe=a("ba48"),Oe=a.n(xe);r["default"].use(ae["a"]),r["default"].use(se.a),Et["b"](Tt["a"]),r["default"].prototype.$Chartist=Oe.a,r["default"].use(Se),r["default"].use(ie),r["default"].config.productionTip=!1,new r["default"]({el:"#app",router:Xt,store:Kt,template:"<App/>",components:{App:ee},render:function(t){return t(ee)}})},"5b75":function(t,e,a){"use strict";var r=a("30ab"),s=a.n(r);s.a},7129:function(t,e,a){"use strict";var r=a("cbde"),s=a.n(r);s.a},"716f":function(t,e,a){},"74be":function(t,e,a){},"9e17":function(t,e,a){},bcf0:function(t,e,a){"use strict";var r=a("74be"),s=a.n(r);s.a},cbde:function(t,e,a){}});
//# sourceMappingURL=app.40a18423.js.map